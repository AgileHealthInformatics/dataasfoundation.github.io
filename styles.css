/* ==========================================================
   Data as Foundation – Full CSS (3-column grid: cover | content | TOC)
   ========================================================== */

/* ---------- Base Typography ---------- */
body { font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; line-height: 1.6;
  color: var(--bs-body-color); background-color: var(--bs-body-bg); }
h1, h2, h3, h4 { font-weight: 600; color: var(--bs-heading-color, var(--bs-body-color));
  margin-top: 1.5rem; margin-bottom: 0.75rem; }
p { margin-bottom: 1rem; }
.lead { font-size: 1.15rem; }

/* ==========================================================
   NAVBAR – Light/Dark Responsive
   ========================================================== */
nav.navbar[data-bs-theme="dark"] { background-color: inherit !important; color: inherit !important; }

/* Light mode */
[data-bs-theme="light"] nav.navbar { background-color: #fff !important; color: #0b3b46 !important;
  border-bottom: 1px solid rgba(0,0,0,0.1); min-height: 60px; }
[data-bs-theme="light"] .navbar .navbar-brand, [data-bs-theme="light"] .navbar .nav-link {
  color: #0b3b46 !important; font-weight: 600; }
[data-bs-theme="light"] .navbar .nav-link:hover, [data-bs-theme="light"] .navbar .nav-link:focus {
  color: #005f73 !important; }

/* Dark mode */
[data-bs-theme="dark"] nav.navbar { background-color: #121212 !important; color: #f8f9fa !important;
  border-bottom: 1px solid #333; min-height: 60px; }
[data-bs-theme="dark"] .navbar .navbar-brand, [data-bs-theme="dark"] .navbar .nav-link {
  color: #f8f9fa !important; font-weight: 600; }
[data-bs-theme="dark"] .navbar .nav-link:hover, [data-bs-theme="dark"] .navbar .nav-link:focus {
  color: #66b2ff !important; }

.navbar .container-fluid, .navbar .navbar-container { min-height: 60px; align-items: center; }

/* ==========================================================
   PAGE GRID – 3 columns: [cover] [content] [TOC]
   ========================================================== */

/* Make outer container use the full width and start at the left */
.quarto-container { max-width: 100vw !important; width: 100% !important; }

/* The grid wrapper you have: <div id="quarto-content" class="quarto-container page-columns ..."> */
.page-columns {
  display: grid;
  grid-template-columns: 230px minmax(0, 1fr) minmax(260px, 300px); /* cover | content | TOC */
  column-gap: 2.5rem;
  margin-left: 0;
  margin-right: auto;
  max-width: 100vw;
  position: relative; /* anchor for the cover if we ever need absolute */
}

/* Place content and sidebar explicitly in columns 2 and 3 */
main.content, #quarto-document-content { grid-column: 2; }
#quarto-margin-sidebar { grid-column: 3; }

/* ==========================================================
   CONTENT WIDTH – use up to ~85% of viewport for text column
   ========================================================== */
main.content, #quarto-document-content {
  max-width: 85vw;       /* text can expand comfortably */
  width: 85vw;
  padding-left: 0;       /* no extra left padding (grid reserves col 1) */
  padding-right: 0;
  margin: 0;             /* align with grid */
}

/* Slightly relax on narrower wide screens */
@media (max-width: 1400px) {
  main.content, #quarto-document-content { max-width: 90vw; width: 90vw; }
}

/* Mobile: stack everything, no grid */
@media (max-width: 991px) {
  .page-columns { display: block; max-width: 95vw; margin: 0 auto; }
  main.content, #quarto-document-content { max-width: 95vw; width: 95vw; padding: 0 1rem; }
  #quarto-margin-sidebar { margin-top: 2rem; }
}

/* ==========================================================
   BOOK COVER – fixed in the left grid column (no overlap)
   ========================================================== */
.book-cover-left {
  grid-column: 1;        /* put it in the dedicated left column */
  position: sticky;      /* stay visible while scrolling a bit */
  top: 1.5rem;
  align-self: start;
  text-align: center;
  z-index: 1;            /* below navbar; above background */
  margin-left: 0.5rem;   /* tiny breathing room from the browser edge */
}

.book-cover-left img {
  width: 180px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.25);
  transition: transform 0.2s ease;
}
.book-cover-left img:hover { transform: scale(1.03); }

.book-cover-left p { margin-top: 0.3rem; font-size: 0.9rem;
  color: var(--bs-secondary-color, var(--bs-body-color)); }

/* On small screens, stack above text */
@media (max-width: 991px) {
  .book-cover-left { position: relative; top: 0; margin: 0 0 1rem 0; }
  .book-cover-left img { width: 60%; margin: 0 auto; }
}

/* ==========================================================
   LINKS – Theme Aware
   ========================================================== */
a { color: var(--bs-link-color, #0b3b46); text-decoration: none; font-weight: 500; }
a:hover { color: var(--bs-link-hover-color, #005f73); text-decoration: underline; }
[data-bs-theme="dark"] a { color: #66b2ff; }
[data-bs-theme="dark"] a:hover { color: #a7d3ff; }

/* ==========================================================
   SUBTITLES
   ========================================================== */
.quarto-title-block .quarto-subtitle, .quarto-title .subtitle {
  color: var(--bs-secondary-color, var(--bs-body-color));
  font-size: 1.15rem; margin-top: 0.25rem;
}
[data-bs-theme="dark"] .quarto-title-block .quarto-subtitle,
[data-bs-theme="dark"] .quarto-title .subtitle { color: #e9ecef; opacity: 0.95; }

/* ==========================================================
   FOOTER
   ========================================================== */
footer, .page-footer {
  font-size: 0.9rem; color: var(--bs-secondary-color, var(--bs-body-color));
  border-top: 1px solid var(--bs-border-color, #ddd);
  padding-top: 0.75rem; margin-top: 2rem;
}
.page-footer a { color: var(--bs-link-color, #0b3b46); }
.page-footer a:hover { text-decoration: underline; }

/* ==========================================================
   IMAGE DEFAULTS
   ========================================================== */
img { max-width: 100%; height: auto; border: none; }
